"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("tslib"),e=function(){var e=this;this.type="sync",this.fns=new Set,this.on=function(r){e.fns.add(r)},this.call=function(){for(var t,n,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];try{for(var i=r.__values(e.fns),o=i.next();!o.done;o=i.next()){var l=o.value;l.apply(void 0,r.__spreadArray([],r.__read(a),!1))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},t=function(){var e=this;this.type="async",this.fns=new Set,this.on=function(r){e.fns.add(r)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(e,void 0,void 0,(function(){var e,n,a,s,i,o;return r.__generator(this,(function(l){switch(l.label){case 0:e=[];try{for(n=r.__values(this.fns),a=n.next();!a.done;a=n.next())s=a.value,e.push(s.apply(void 0,r.__spreadArray([],r.__read(t),!1)))}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return[4,Promise.all(e)];case 1:return l.sent(),[2]}}))}))}},n=function(){var e=this;this.type="asyncSeries",this.fns=new Set,this.on=function(r){e.fns.add(r)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.__awaiter(e,void 0,void 0,(function(){var e,n,a,s,i;return r.__generator(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),e=r.__values(this.fns),n=e.next(),o.label=1;case 1:return n.done?[3,4]:[4,n.value.apply(void 0,r.__spreadArray([],r.__read(t),!1))];case 2:o.sent(),o.label=3;case 3:return n=e.next(),[3,1];case 4:return[3,7];case 5:return a=o.sent(),s={error:a},[3,7];case 6:try{n&&!n.done&&(i=e.return)&&i.call(e)}finally{if(s)throw s.error}return[7];case 7:return[2]}}))}))}};exports.AsyncHook=t,exports.AsyncSeriesHook=n,exports.SyncHook=e;
