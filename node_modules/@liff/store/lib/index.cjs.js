"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@liff/consts"),e=require("@liff/is-in-client"),n=require("@liff/util"),o={};function r(){return o}function T(o,r){if(!r)throw n.createLiffError(t.INVALID_CONFIG,"liffId is necessary for liff.init()");var T=(e.isInClient()?sessionStorage:localStorage).getItem("".concat(t.STORE_KEY,":").concat(r,":").concat(o));try{return null===T?null:JSON.parse(T)}catch(E){return null}}function E(t){return T(t,r().liffId)}function i(o,T){var E=r().liffId;if(!E)throw n.createLiffError(t.INVALID_CONFIG,"liffId is necessary for liff.init()");(e.isInClient()?sessionStorage:localStorage).setItem("".concat(t.STORE_KEY,":").concat(E,":").concat(o),JSON.stringify(T))}function c(){return E(t.STORE_OBJECT.CONTEXT)}function s(o){var T=r().liffId;if(!T)throw n.createLiffError(t.INVALID_CONFIG,"liffId is necessary for liff.init()");(e.isInClient()?sessionStorage:localStorage).removeItem("".concat(t.STORE_KEY,":").concat(T,":").concat(o))}function f(){var e=r();n.cookie.remove("".concat(t.STORE_KEY,":").concat(t.STORE_OBJECT.EXPIRES,":").concat(e.liffId),{path:"/"})}exports.clean=function(){Object.keys(t.STORE_OBJECT).forEach((function(e){s(t.STORE_OBJECT[e])})),f()},exports.get=E,exports.getAId=function(){return((c()||{}).d||{}).aId},exports.getAccessToken=function(){return E(t.STORE_OBJECT.ACCESS_TOKEN)},exports.getAppData=function(){return E(t.STORE_OBJECT.APP_DATA)},exports.getByLiffId=T,exports.getClientId=function(){return E(t.STORE_OBJECT.CLIENT_ID)},exports.getConfig=r,exports.getContext=c,exports.getDecodedIDToken=function(){return E(t.STORE_OBJECT.DECODED_ID_TOKEN)},exports.getExpireTime=function(){var e=r();return n.cookie.get("".concat(t.STORE_KEY,":").concat(t.STORE_OBJECT.EXPIRES,":").concat(e.liffId))},exports.getFeatureToken=function(){return E(t.STORE_OBJECT.FEATURE_TOKEN)},exports.getIDToken=function(){return E(t.STORE_OBJECT.ID_TOKEN)},exports.getIsSubsequentLiffApp=function(){return Boolean(E(t.STORE_OBJECT.IS_SUBSEQUENT_LIFF_APP))},exports.getIsVideoAutoPlay=function(){return((c()||{}).d||{}).autoplay||!1},exports.getLoginTmp=function(){return E(t.STORE_OBJECT.LOGIN_TMP)},exports.getMSIT=function(){return E(t.STORE_OBJECT.MSIT)},exports.getMST=function(){return E(t.STORE_OBJECT.MST)},exports.getMSTChallenge=function(){return E(t.STORE_OBJECT.MST_CHALLENGE)},exports.getMSTVerifier=function(){return E(t.STORE_OBJECT.MST_VERIFIER)},exports.getProfilePlus=function(){return(c()||{}).profilePlus},exports.getRawContext=function(){return E(t.STORE_OBJECT.RAW_CONTEXT)},exports.remove=s,exports.removeExpireTime=f,exports.removeLoginTmp=function(){s(t.STORE_OBJECT.LOGIN_TMP)},exports.set=i,exports.setAccessToken=function(e){i(t.STORE_OBJECT.ACCESS_TOKEN,e)},exports.setAppData=function(e){i(t.STORE_OBJECT.APP_DATA,e)},exports.setClientId=function(e){i(t.STORE_OBJECT.CLIENT_ID,e)},exports.setConfig=function(t){o=t},exports.setContext=function(e){i(t.STORE_OBJECT.CONTEXT,e)},exports.setDecodedIDToken=function(e){i(t.STORE_OBJECT.DECODED_ID_TOKEN,e)},exports.setExpireTime=function(e){var o=r();n.cookie.set("".concat(t.STORE_KEY,":").concat(t.STORE_OBJECT.EXPIRES,":").concat(o.liffId),e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})},exports.setFeatureToken=function(e){i(t.STORE_OBJECT.FEATURE_TOKEN,e)},exports.setIDToken=function(e){i(t.STORE_OBJECT.ID_TOKEN,e)},exports.setIsSubsequentLiffApp=function(e){i(t.STORE_OBJECT.IS_SUBSEQUENT_LIFF_APP,e)},exports.setLoginTmp=function(e){i(t.STORE_OBJECT.LOGIN_TMP,e)},exports.setMSIT=function(e){i(t.STORE_OBJECT.MSIT,e)},exports.setMST=function(e){i(t.STORE_OBJECT.MST,e)},exports.setMSTChallenge=function(e){i(t.STORE_OBJECT.MST_CHALLENGE,e)},exports.setMSTVerifier=function(e){i(t.STORE_OBJECT.MST_VERIFIER,e)};
